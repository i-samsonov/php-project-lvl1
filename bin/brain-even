#!/usr/bin/env php
<?php

require __DIR__ . '/../vendor/autoload.php';

use function cli\line;
use function cli\prompt;

$success = 0;

line('Welcome to the Brain Game!');
$userName = prompt('May I have your name?');
line("Hello, %s!", $userName);
line("Answer \"yes\" if the number is even, otherwise answer \"no\".");

while ($success < 3) {

    $num = rand ( 1 , 30 );
    $correct = $num % 2 == 0 ? 'yes' : 'no';

    line("Question: $num");
    $answer = prompt("Your answer");

    if ($correct !== $answer) {
        line("'%s' is wrong answer ;(. Correct answer was '%s'.", $answer, $correct);
        line('Let\'s try again, %s!', $userName);
        return;
    } else {
        line("Correct!");
    }

    $success++;
}

line("Congratulations, %s!", $userName);